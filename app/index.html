<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/hari-sh/rollup_template/blob/main/app/style.css">
    </head>
    <body>
        <script>
            const loadScript = (FILE_URL, async = true, type = "text/javascript") => {
            return new Promise((resolve, reject) => {
                try {
                    const scriptEle = document.createElement("script");
                    scriptEle.type = type;
                    scriptEle.async = async;
                    scriptEle.src =FILE_URL;

                    scriptEle.addEventListener("load", (ev) => {
                        resolve({ status: true });
                    });

                    scriptEle.addEventListener("error", (ev) => {
                        reject({
                            status: false,
                            message: `Failed to load the script {FILE_URL}`
                        });
                    });

                    document.body.appendChild(scriptEle);
                } catch (error) {
                    reject(error);
                }
            });
        };

        const loadStyle = (FILE_URL, async = true, type = "stylesheet") => {
            return new Promise((resolve, reject) => {
                try {
                    const scriptEle = document.createElement("style");
                    scriptEle.rel = type;
                    scriptEle.async = async;
                    scriptEle.href =FILE_URL;

                    scriptEle.addEventListener("load", (ev) => {
                        resolve({ status: true });
                    });

                    scriptEle.addEventListener("error", (ev) => {
                        reject({
                            status: false,
                            message: `Failed to load the script {FILE_URL}`
                        });
                    });

                    document.body.appendChild(scriptEle);
                } catch (error) {
                    reject(error);
                }
            });
        };
        let resVal = true;
        (resVal) && loadStyle("https://cdn.jsdelivr.net/gh/hari-sh/rollup_template/app/style.css")
            .then( resVal = true)
            .catch( resVal = false);
        (resVal) && loadScript("https://d3js.org/d3.v3.min.js")
            .then( resVal = true)
            .catch( resVal = false);
        (resVal) && loadScript("https://cdn.jsdelivr.net/gh/hari-sh/rollup_template/app/dist/plt.js")
            .then(resVal = true)
            .catch(resVal = false);
        </script>
    </body>
</html>
